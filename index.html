<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è»Šç‰Œè™Ÿç¢¼å‰å‡¶æŸ¥è©¢ç³»çµ±</title>
    <style>
        :root {
            --primary-color: #3f51b5;
            --accent-color: #f44336;
            --bg-color: #f5f5f5;
        }

        body {
            font-family: "Microsoft JhengHei", -apple-system, BlinkMacSystemFont, sans-serif;
            background-color: var(--bg-color);
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
        }

        .container {
            width: 100%;
            max-width: 450px;
            background: white;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        header {
            background-color: var(--primary-color);
            color: white;
            padding: 30px 20px;
            text-align: center;
        }

        header h1 {
            margin: 0;
            font-size: 24px;
        }

        .content {
            padding: 30px 20px;
            flex-grow: 1;
        }

        .input-group {
            text-align: center;
            margin-bottom: 30px;
        }

        label {
            display: block;
            font-size: 16px;
            margin-bottom: 10px;
            color: #333;
        }

        input {
            width: 80%;
            font-size: 32px;
            padding: 10px;
            text-align: center;
            border: 2px solid #ccc;
            border-radius: 8px;
            outline: none;
            font-family: 'Consolas', monospace;
            transition: border-color 0.3s;
        }

        input:focus {
            border-color: var(--primary-color);
        }

        button {
            width: 100%;
            padding: 15px;
            background-color: var(--accent-color);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            transition: transform 0.1s;
        }

        button:active {
            transform: scale(0.98);
        }

        .result-card {
            margin-top: 30px;
            border: 1px solid #eee;
            border-radius: 12px;
            padding: 20px;
            background: #fafafa;
        }

        .result-title {
            font-weight: bold;
            border-bottom: 2px solid var(--primary-color);
            display: inline-block;
            margin-bottom: 15px;
            color: var(--primary-color);
        }

        .method-box {
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .method-label {
            font-weight: bold;
            color: #555;
        }

        .lucky-banner {
            text-align: center;
            font-size: 22px;
            font-weight: bold;
            color: #E91E63;
            margin-top: 20px;
            min-height: 30px;
        }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>ğŸš— è»Šè™Ÿå‰å‡¶å¤§å¸«</h1>
    </header>

    <div class="content">
        <div class="input-group">
            <label>è«‹è¼¸å…¥å››ä½æ•¸å­—è»Šè™Ÿ</label>
            <input type="number" id="carEntry" placeholder="0000" pattern="\d*" inputmode="numeric">
        </div>

        <button onclick="calculate()">è§£æå‰å‡¶</button>

        <div class="result-card">
            <div class="result-title">è§£æçµæœ</div>
            
            <div class="method-box">
                <div class="method-label">æ–¹æ³• 1 (é™¤80æ³•)ï¼š</div>
                <div id="res1">ç­‰å¾…è¼¸å…¥...</div>
            </div>

            <div class="method-box">
                <div class="method-label">æ–¹æ³• 2 (åŠ ç¸½æ³•)ï¼š</div>
                <div id="res2">ç­‰å¾…è¼¸å…¥...</div>
            </div>

            <div id="luckyLabel" class="lucky-banner"></div>
        </div>
    </div>
</div>

<script>
    const luckData = {
        1: "å¤§å±•é´»åœ–ï¼å¯ç²æˆåŠŸ (å‰)", 2: "ä¸€ç››ä¸€è¡°ï¼å‹è€Œç„¡åŠŸ (å‡¶)", 3: "è’¸è’¸æ—¥ä¸Šï¼ç™¾äº‹é †é‚ (å‰)",
        4: "åå·å‰é€”ï¼è‹¦é›£æŠ˜ç£¨ (å‡¶)", 5: "ç”Ÿæ„æ¬£æ¦®ï¼ååˆ©é›™æ”¶ (å‰)", 6: "å¤©é™å¹¸é‹ï¼å¯æˆå¤§åŠŸ (å‰)",
        7: "å’Œæ°£è‡´ç¥¥ï¼å¿…ç²æˆåŠŸ (å‰)", 8: "è²«å¾¹å¿—æœ›ï¼æˆåŠŸå¯æœŸ (å‰)", 9: "ç¨ç‡Ÿç„¡åŠ›ï¼è²¡åˆ©ç„¡æœ› (å‡¶)",
        10: "ç©ºè²»å¿ƒåŠ›ï¼å¾’å‹ç„¡åŠŸ (å‡¶)", 11: "ç©©å¥è‘—å¯¦ï¼å¿…å¾—äººæœ› (å‰)", 12: "è–„å¼±ç„¡åŠ›ï¼è¬€äº‹é›£æˆ (å‡¶)",
        13: "å¤©è³¦å‰é‹ï¼èƒ½å¾—äººæœ› (å‰)", 14: "æ˜¯æˆæ˜¯æ•—ï¼æƒŸé å …æ¯… (å‡¶)", 15: "å¤§äº‹æˆå°±ï¼ä¸€å®šèˆˆéš† (å‰)",
        16: "æˆå°±å¤§æ¥­ï¼ååˆ©é›™æ”¶ (å‰)", 17: "æœ‰è²´äººåŠ©ï¼å¯å¾—æˆåŠŸ (å‰)", 18: "é †åˆ©æ˜Œéš†ï¼ç™¾äº‹äº¨é€š (å‰)",
        19: "å…§å¤–ä¸åˆï¼éšœç¤™é‡é‡ (å‡¶)", 20: "æ­·ç›¡è‰±é›£ï¼ç„¦å¿ƒæ†‚å‹ (å‡¶)", 21: "å°ˆå¿ƒç¶“ç‡Ÿï¼å–„ç”¨æ™ºèƒ½ (å‰)",
        22: "æ‡·æ‰ä¸é‡ï¼äº‹ä¸å¦‚æ„ (å‡¶)", 23: "åé¡¯å››æ–¹ï¼çµ‚æˆå¤§æ¥­ (å‰)", 24: "é ˆé è‡ªåŠ›ï¼èƒ½å¥å¤§åŠŸ (å‰)",
        25: "å¤©æ™‚åœ°åˆ©ï¼å†å¾—äººæ ¼ (å‰)", 26: "æ³¢ç€¾èµ·ä¼ï¼å‡Œé§•è¬é›£ (å‡¶)", 27: "ä¸€ç››ä¸€è¡°ï¼å¯å®ˆæˆåŠŸ (å‡¶å¸¶å‰)",
        28: "é­é›£å±ˆæŠ˜ï¼è‡ªæˆç§‹éœœ (å‡¶)", 29: "é’é›²ç›´ä¸Šï¼æ‰ç•¥å¥åŠŸ (å‰)", 30: "å‰å‡¶åƒåŠï¼å¾—å¤±ç›¸ä¼´ (å‡¶)",
        31: "ååˆ©é›™æ”¶ï¼å¤§æ¥­æˆå°± (å‰)", 32: "æ± ä¸­ä¹‹é¾ï¼æˆåŠŸå¯æœ› (å‰)", 33: "æ™ºèƒ½æ…å§‹ï¼å¿…å¯æ˜Œéš† (å‰)",
        34: "ç½é›£ä¸çµ•ï¼é›£æœ›æˆåŠŸ (å‡¶)", 35: "ä¸­å‰ä¹‹æ•¸ï¼é€²é€€ä¿å®ˆ (å‰)", 36: "æ³¢ç€¾é‡ç–Šï¼å¸¸é™·çª®å›° (å‡¶)",
        37: "é€¢å‡¶åŒ–å‰ï¼é¢¨èª¿é›¨é † (å‰)", 38: "åé›–å¯å¾—ï¼åˆ©å‰‡é›£ç² (å‡¶å¸¶å‰)", 39: "å…‰æ˜å¦é€”ï¼æŒ‡æ—¥å¯å¾… (å‰)",
        40: "ä¸€ç››ä¸€è¡°ï¼æµ®æ²‰ä¸å®š (å‰å¸¶å‡¶)", 41: "å¤©è³¦å‰é‹ï¼å‰é€”ç„¡é™ (å‰)", 42: "äº‹æ¥­ä¸å°ˆï¼åä¹ä¸æˆ (å‰å¸¶å‡¶)",
        43: "å¿è€è‡ªé‡ï¼è½‰å‡¶ç‚ºå‰ (å‰å¸¶å‡¶)", 44: "äº‹é›£é‚é¡˜ï¼è²ªåŠŸå¥½é€² (å‡¶)", 45: "ç¶ è‘‰ç™¼æï¼ä¸€èˆ‰æˆå (å‰)",
        46: "åå·ä¸å¹³ï¼è‰±é›£é‡é‡ (å‡¶)", 47: "æœ‰è²´äººåŠ©ï¼å¯æˆå¤§æ¥­ (å‰)", 48: "ååˆ©ä¿±å…¨ï¼ç¹æ¦®å¯Œè²´ (å‰)",
        49: "é‡å‰å‰‡å‰ï¼é‡å‡¶å‰‡å‡¶ (å‡¶)", 50: "å‰å‡¶äº’è¦‹ï¼ä¸€æˆä¸€æ•— (å‰å¸¶å‡¶)", 51: "ä¸€ç››ä¸€è¡°ï¼æµ®æ²‰ä¸å¸¸ (å‰å¸¶å‡¶)",
        52: "é›¨éå¤©é’ï¼å³ç²æˆåŠŸ (å‰)", 53: "ç››è¡°åƒåŠï¼å…ˆå‰å¾Œå‡¶ (å‰å¸¶å‡¶)", 54: "é›–å‚¾å…¨åŠ›ï¼é›£æœ›æˆåŠŸ (å‡¶)",
        55: "å¤–è§€éš†æ˜Œï¼å…§éš±ç¦æ‚£ (å‰å¸¶å‡¶)", 56: "äº‹èˆ‡é¡˜é•ï¼çµ‚é›£æˆåŠŸ (å‡¶)", 57: "åŠªåŠ›ç¶“ç‡Ÿï¼æ™‚ä¾†é‹è½‰ (å‰)",
        58: "æµ®æ²‰å¤šç«¯ï¼å§‹å‡¶çµ‚å‰ (å‡¶å¸¶å‰)", 59: "é‡äº‹çŒ¶ç–‘ï¼é›£æœ›æˆäº‹ (å‡¶)", 60: "å¿ƒè¿·æ„äº‚ï¼é›£å®šæ–¹é‡ (å‡¶)",
        61: "é›²é®åŠæœˆï¼ç™¾éš±é¢¨æ³¢ (å‰å¸¶å‡¶)", 62: "ç…©æ‚¶æ‡Šæƒ±ï¼äº‹äº‹é›£å±• (å‡¶)", 63: "è¬ç‰©åŒ–è‚²ï¼ç¹æ¦®ä¹‹è±¡ (å‰)",
        64: "åä¹ä¸æˆï¼å¾’å‹ç„¡åŠŸ (å‡¶)", 65: "å‰é‹è‡ªä¾†ï¼èƒ½äº«ç››å (å‰)", 66: "å…§å¤–ä¸å’Œï¼ä¿¡ç”¨ç¼ºä¹ (å‡¶)",
        67: "äº‹äº‹å¦‚æ„ï¼å¯Œè²´è‡ªä¾† (å‰)", 68: "ä¸å¤±å…ˆæ©Ÿï¼å¯æœ›æˆåŠŸ (å‰)", 69: "å‹•æ–ä¸å®‰ï¼å¸¸é™·é€†å¢ƒ (å‡¶)",
        70: "æ…˜æ·¡ç¶“ç‡Ÿï¼é›£å…è²§å›° (å‡¶)", 71: "å‰å‡¶åƒåŠï¼æƒŸè³´å‹‡æ°£ (å‰å¸¶å‡¶)", 72: "å¾—è€Œå¾©å¤±ï¼é›£ä»¥å®‰é † (å‡¶)",
        73: "å®‰æ¨‚è‡ªä¾†ï¼è‡ªç„¶å‰ç¥¥ (å‰)", 74: "å¦‚ç„¡æ™ºè¬€ï¼é›£æœ›æˆåŠŸ (å‡¶)", 75: "å‰ä¸­å¸¶å‡¶ï¼é€²ä¸å¦‚å®ˆ (å‰å¸¶å‡¶)",
        76: "æ­¤æ•¸å¤§å‡¶ï¼ç ´ç”¢ä¹‹è±¡ (å‡¶)", 77: "å…ˆè‹¦å¾Œç”˜ï¼ä¸è‡´å¤±æ•— (å‰å¸¶å‡¶)", 78: "æœ‰å¾—æœ‰å¤±ï¼è¯è€Œä¸å¯¦ (å‰å¸¶å‡¶)",
        79: "å‰é€”ç„¡å…‰ï¼å¸Œæœ›ä¸å¤§ (å‡¶)", 80: "å¾—è€Œå¾©å¤±ï¼æ‰è²»å¿ƒæ©Ÿ (å‰å¸¶å‡¶)", 81: "æœ€æ¥µä¹‹æ•¸ï¼èƒ½å¾—æˆåŠŸ (å‰)"
    };

    function isTrulyLucky(comment) {
        // å–å¾—æ‹¬è™Ÿå…§å®¹
        const match = comment.match(/\(([^)]+)\)/);
        if (match) {
            const bracketText = match[1];
            return !bracketText.includes("å‡¶");
        }
        return false;
    }

    function calculate() {
        const input = document.getElementById('carEntry').value.trim();
        
        if (input.length !== 4 || isNaN(input)) {
            alert("è«‹è¼¸å…¥å®Œæ•´çš„å››ä½æ•¸å­—è»Šè™Ÿï¼");
            return;
        }

        const carNum = parseInt(input);

        // æ–¹æ³• 1: é™¤ 80 æ³•
        let m1_val = Math.round(((carNum / 80) - Math.floor(carNum / 80)) * 80);
        if (m1_val === 0) m1_val = 80;

        // æ–¹æ³• 2: æ•¸å­—åŠ ç¸½æ³•
        let m2_val = input.split('').reduce((a, b) => parseInt(a) + parseInt(b), 0);

        const comment1 = luckData[m1_val] || "æœªçŸ¥æ•¸æ“š";
        const comment2 = luckData[m2_val] || "æœªçŸ¥æ•¸æ“š";

        // æ›´æ–° UI
        document.getElementById('res1').innerHTML = `æ•¸å­—ã€${m1_val}ã€‘<br>${comment1}`;
        document.getElementById('res2').innerHTML = `æ•¸å­—ã€${m2_val}ã€‘<br>${comment2}`;

        // åˆ¤æ–·é›™å¤§å‰
        const isM1Pure = isTrulyLucky(comment1);
        const isM2Pure = isTrulyLucky(comment2);

        const luckyLabel = document.getElementById('luckyLabel');
        if (isM1Pure && isM2Pure) {
            luckyLabel.innerHTML = "âœ¨ æ­å–œï¼é›™ç´”å‰è‡¨é–€ï¼šå¤§å‰ âœ¨";
        } else {
            luckyLabel.innerHTML = "";
        }
    }
</script>

</body>
</html>
